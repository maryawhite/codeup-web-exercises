<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <title>Online Store</title>
</head>
<body>
<div class="container">
<h1 class="text-center text-md-left">My Tool Store</h1>

        <table id="products">
            <thead>
                <tr>
                    <th>Title</th>
                    <th>Quantity</th>
                    <th>Price</th>
                    <th>Categories</th>
                </tr>
            </thead>
            <tbody id="insertProducts"></tbody>
        </table>
    <div class="d-flex justify-content-center justify-content-md-start">
<button type="button" id="refresh-button" class="align-items-center">Refresh the inventory</button>
    </div>
</div>
<script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>

<script>
(function() {
    "use strict";
    // TODO: Create an AJAX GET request for the file under data/inventory.json
    // TODO: Take the data from inventory.json and append it to the products table
    //       HINT: Your data should come back as a JSON object; use console.log() to inspect
    //             its contents and fields
    //       HINT: You will want to target #insertProducts for your new HTML elements
    //       HINT:!!! append inside of the for loop, not outside
    //Add some new entries to inventory.json and see how the data on the page gets updated.
    //Add a "Refresh" button that will load inventory.json for you without having to refresh the entire page.
$(document).ready(function(){
    $("#refresh-button").click(function(e){
        e.preventDefault();
        // $.ajax("data/inventory.json").done(function(data){
        window.location.reload();   //we want to refresh the window, not the json file
    });

    $.ajax("data/inventory.json").done(function(data){
        for(var i = 0; i < data.length; i++){
            var productHTML = "<tr>" + "<td>" + data[i].title + "</td>" + "<td>" + data[i].quantity + "</td>"
                + "<td>" + data[i].price + "</td>" + "<td>" + data[i].categories.join(", ") + "</td>" + "</tr>"
            $("#insertProducts").append(productHTML);  //inside the for loop
        }
    });

$("table").addClass("table").addClass("table-bordered"); //add a class of table to the element table; table is a built in bootstrap class
$("thead").addClass("thead-light"); //thead-light is a bootstrap class


}); //end of document ready function
})();
</script>

</body>
</html>
